{"version":3,"sources":["../../configs/express.js"],"names":["app","use","limiter","max","windowMs","message","limits","fileSize","req","res","next","header","express","json","limit","urlencoded","extended"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA,IAAMA,GAAG,GAAG,uBAAZ;;;;;;;iFAEe;AAAA;AAAA;AAAA;AAAA;AAAA;AACXA,YAAAA,GAAG,CAACC,GAAJ,CAAQ,sBAAR;AAEMC,YAAAA,OAHK,GAGK,+BAAU;AACtBC,cAAAA,GAAG,EAAE,GADiB;AAEtBC,cAAAA,QAAQ,EAAE,KAAK,IAFO;AAGtBC,cAAAA,OAAO,EACH;AAJkB,aAAV,CAHL;AAUXL,YAAAA,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBC,OAAhB;AACAF,YAAAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AAEAD,YAAAA,GAAG,CAACC,GAAJ,CACI,gCAAW;AACPK,cAAAA,MAAM,EAAE;AAAEC,gBAAAA,QAAQ,EAAE,KAAK,IAAL,GAAY;AAAxB;AADD,aAAX,CADJ;AAMAP,YAAAA,GAAG,CAACC,GAAJ,CAAQ,UAACO,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxBD,cAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,cAAAA,GAAG,CAACE,MAAJ,CACI,8BADJ,EAEI,gDAFJ;AAIAD,cAAAA,IAAI;AACP,aAPD;AASAV,YAAAA,GAAG,CAACC,GAAJ,CAAQW,iBAAQC,IAAR,CAAa;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb,CAAR;AACAd,YAAAA,GAAG,CAACC,GAAJ,CAAQW,iBAAQG,UAAR,CAAmB;AAAEC,cAAAA,QAAQ,EAAE,KAAZ;AAAmBF,cAAAA,KAAK,EAAE;AAA1B,aAAnB,CAAR;AAEAd,YAAAA,GAAG,CAACC,GAAJ,CAAQ,oCAAR;AACAD,YAAAA,GAAG,CAACC,GAAJ,CAAQ,wBAAR;AACAD,YAAAA,GAAG,CAACC,GAAJ,CAAQ,mBAAR;;AAjCW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport fileUpload from 'express-fileupload'\r\nimport rateLimit from 'express-rate-limit'\r\nimport helmet from 'helmet'\r\nimport mongoSanitize from 'express-mongo-sanitize'\r\nimport xss from 'xss-clean'\r\nimport hpp from 'hpp'\r\nimport './database'\r\nconst app = express()\r\n\r\nexport default async function () {\r\n    app.use(helmet())\r\n\r\n    const limiter = rateLimit({\r\n        max: 100,\r\n        windowMs: 60 * 1000,\r\n        message:\r\n            'Too many requests from this IP, please try again in an minutes!',\r\n    })\r\n\r\n    app.use('/api', limiter)\r\n    app.use(cors())\r\n\r\n    app.use(\r\n        fileUpload({\r\n            limits: { fileSize: 50 * 1024 * 5024000 },\r\n        })\r\n    )\r\n\r\n    app.use((req, res, next) => {\r\n        res.header('Access-Control-Allow-Origin', '*')\r\n        res.header(\r\n            'Access-Control-Allow-Headers',\r\n            'Origin, X-Requested-With, Content-Type, Accept'\r\n        )\r\n        next()\r\n    })\r\n\r\n    app.use(express.json({ limit: '10kb' }))\r\n    app.use(express.urlencoded({ extended: false, limit: '500mb' }))\r\n\r\n    app.use(mongoSanitize())\r\n    app.use(xss())\r\n    app.use(hpp())\r\n}\r\n"],"file":"express.js"}